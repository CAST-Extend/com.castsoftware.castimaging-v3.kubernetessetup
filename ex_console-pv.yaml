apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv-console-v3-db-data
  namespace: castimaging-v3
spec:
  capacity:
    storage: 5Gi
  volumeMode: Filesystem
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: castimaging-storage
  claimRef:
    namespace: castimaging-v3
    name: db-data
  csi:
    driver: disk.csi.azure.com
    #volumeHandle: /subscriptions/<your-subscription-id>/resourceGroups/<your-resource-group>/providers/Microsoft.Compute/disks/pv-console-v3-db-data-disk
    fsType: ext4
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv-console-v3-restapi-domains
  namespace: castimaging-v3
spec:
  capacity:
    storage: 10Mi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: castimaging-storage
  csi:
    driver: disk.csi.azure.com
    #volumeHandle: /subscriptions/<your-subscription-id>/resourceGroups/<your-resource-group>/providers/Microsoft.Compute/disks/pv-console-v3-restapi-domains  # Specify your managed disk path
    fsType: ext4
  claimRef:
    namespace: castimaging-v3
    name: restapi-domains
#
# 3 CASTDIR Persistent Volumes
# for aip_node statefulSet
#
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv-console-v3-analysis-node-castdir0
  namespace: castimaging-v3
spec:
  capacity:
    storage: 2Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: castimaging-storage
  csi:
    driver: disk.csi.azure.com
    #volumeHandle: /subscriptions/<your-subscription-id>/resourceGroups/<your-resource-group>/providers/Microsoft.Compute/disks/pv-console-v3-analysis-node-castdir0-disk
    fsType: ext4
  claimRef:
    namespace: castimaging-v3
    name: castdir-console-analysis-node-core-0

# --- ONLY NEED pv-console-v3-analysis-node-castdir1 if there is more than 1 analysis nodes
# apiVersion: v1
# kind: PersistentVolume
# metadata:
#   name: pv-console-v3-analysis-node-castdir1
#   namespace: castimaging-v3
# spec:
#   capacity:
#     storage: 2Gi
#   volumeMode: Filesystem
#   accessModes:
#   - ReadWriteOnce
#   persistentVolumeReclaimPolicy: Retain
#   storageClassName: castimaging-storage
#   csi:
#     driver: disk.csi.azure.com
#     volumeHandle: /subscriptions/<your-subscription-id>/resourceGroups/<your-resource-group>/providers/Microsoft.Compute/disks/pv-console-v3-analysis-node-castdir1  # Specify your managed disk path
#     fsType: ext4
#   claimRef:
#     namespace: castimaging-v3
#     name: castdir-console-analysis-node-core-1

# --- ONLY NEED pv-console-v3-analysis-node-castdir2 if there is more than 2 analysis nodes
# apiVersion: v1
# kind: PersistentVolume
# metadata:
#   name: pv-console-v3-analysis-node-castdir2
#   namespace: castimaging-v3
# spec:
#   capacity:
#     storage: 2Gi
#   volumeMode: Filesystem
#   accessModes:
#   - ReadWriteOnce
#   persistentVolumeReclaimPolicy: Retain
#   storageClassName: castimaging-storage
#   csi:
#     driver: disk.csi.azure.com
#     volumeHandle: /subscriptions/<your-subscription-id>/resourceGroups/<your-resource-group>/providers/Microsoft.Compute/disks/pv-console-v3-analysis-node-castdir2-disk  # Specify your managed disk path
#     fsType: ext4
#   claimRef:
#     namespace: castimaging-v3
#     name: castdir-console-analysis-node-core-2

3 DATADIR Persistent Volumes
for aip_node statefulSet

---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv-console-v3-analysis-node-datadir0
  namespace: castimaging-v3
spec:
  capacity:
    storage: 2Gi
  volumeMode: Filesystem
  accessModes:
  - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: castimaging-storage
  csi:
    driver: disk.csi.azure.com
    #volumeHandle: /subscriptions/<your-subscription-id>/resourceGroups/<your-resource-group>/providers/Microsoft.Compute/disks/pv-console-v3-analysis-node-datadir0-disk
    fsType: ext4
  claimRef:
    namespace: castimaging-v3
    name: datadir-console-analysis-node-core-0

# --- ONLY NEED pv-console-v3-analysis-node-datadir1 if there is more than 1 analysis nodes
# apiVersion: v1
# kind: PersistentVolume
# metadata:
#   name: pv-console-v3-analysis-node-datadir1
#   namespace: castimaging-v3
# spec:
#   capacity:
#     storage: 2Gi
#   volumeMode: Filesystem
#   accessModes:
#   - ReadWriteOnce
#   persistentVolumeReclaimPolicy: Retain
#   storageClassName: castimaging-storage
#   csi:
#     driver: disk.csi.azure.com
#     volumeHandle: /subscriptions/<your-subscription-id>/resourceGroups/<your-resource-group>/providers/Microsoft.Compute/disks/pv-console-v3-analysis-node-datadir1-disk
#     fsType: ext4
#   claimRef:
#     namespace: castimaging-v3
#     name: datadir-console-analysis-node-core-1

# --- ONLY NEED pv-console-v3-analysis-node-datadir2 if there is more than 2 analysis nodes
# apiVersion: v1
# kind: PersistentVolume
# metadata:
#   name: pv-console-v3-analysis-node-datadir2
#   namespace: castimaging-v3
# spec:
#   capacity:
#     storage: 2Gi
#   volumeMode: Filesystem
#   accessModes:
#   - ReadWriteOnce
#   persistentVolumeReclaimPolicy: Retain
#   storageClassName: castimaging-storage
#   csi:
#     driver: disk.csi.azure.com
#     volumeHandle: /subscriptions/<your-subscription-id>/resourceGroups/<your-resource-group>/providers/Microsoft.Compute/disks/pv-console-v3-analysis-node-datadir2-disk
#     fsType: ext4
#   claimRef:
#     namespace: castimaging-v3
#     name: datadir-console-analysis-node-core-2
